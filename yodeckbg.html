<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pexels Random Background</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      background-color: black;
    }
    #bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: blur(12px); /* Gaussian blur */
      transform: scale(1.05); /* Prevents edges from showing */
    }
    #credit {
      position: absolute;
      bottom: 10px;
      right: 20px;
      color: white;
      background: rgba(0, 0, 0, 0.5);
      padding: 6px 10px;
      border-radius: 6px;
      font-family: sans-serif;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <img id="bg" src="" alt="Random background">
  <div id="credit"></div>

  <script>
    const API_KEY = "YsKFMeWvaNwEG0hLLqmdB1ZCYn7fe0o8lapwFzBrLhZzbuYrvHubpFkx";
    const categories = ["nature", "forest", "beach"];
    const imgElement = document.getElementById("bg");
    const creditElement = document.getElementById("credit");

    async function fetchRandomImage() {
      const category = categories[Math.floor(Math.random() * categories.length)];
      const url = `https://api.pexels.com/v1/search?query=${category}&per_page=30&page=${Math.floor(Math.random()*10)+1}`;

      try {
        const response = await fetch(url, {
          headers: {
            Authorization: API_KEY
          }
        });
        const data = await response.json();

        if (data.photos && data.photos.length > 0) {
          const randomPhoto = data.photos[Math.floor(Math.random() * data.photos.length)];
          imgElement.src = randomPhoto.src.landscape || randomPhoto.src.original;
          creditElement.innerHTML = `Photo by <a href="${randomPhoto.photographer_url}" target="_blank" style="color:white">${randomPhoto.photographer}</a> on <a href="https://www.pexels.com" target="_blank" style="color:white">Pexels</a>`;
        }
      } catch (err) {
        console.error("Error fetching Pexels image:", err);
      }
    }

    // Initial load
    fetchRandomImage();
    // Refresh every 30 seconds
    setInterval(fetchRandomImage, 30000);
  </script>
</body>
</html>
